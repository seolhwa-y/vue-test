{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-07cc9a88\"],{6734:function(e,t,s){},\"88e3\":function(e,t,s){\"use strict\";s(\"6734\")},a26f:function(e,t,s){\"use strict\";s.r(t);var o=s(\"7a23\");const r=Object(o[\"createElementVNode\"])(\"span\",{class:\"text-large font-600 mr-3\"},\" 마이페이지 \",-1),l={id:\"myForm\"},a={id:\"div_el_form\"},c=Object(o[\"createElementVNode\"])(\"span\",null,\"회원정보를 수정하시겠습니까?\",-1),n={class:\"dialog-footer\"},i=Object(o[\"createElementVNode\"])(\"span\",null,\"정말 회원탈퇴를 하실건가요?\",-1),d={class:\"dialog-footer\"};function u(e,t,s,u,h,f){const m=Object(o[\"resolveComponent\"])(\"el-page-header\"),p=Object(o[\"resolveComponent\"])(\"el-input\"),b=Object(o[\"resolveComponent\"])(\"el-form-item\"),w=Object(o[\"resolveComponent\"])(\"el-form\"),I=Object(o[\"resolveComponent\"])(\"el-button\"),O=Object(o[\"resolveComponent\"])(\"el-dialog\");return Object(o[\"openBlock\"])(),Object(o[\"createElementBlock\"])(o[\"Fragment\"],null,[Object(o[\"createVNode\"])(m,{onBack:f.goBack},{content:Object(o[\"withCtx\"])(()=>[r]),_:1},8,[\"onBack\"]),Object(o[\"createElementVNode\"])(\"div\",l,[Object(o[\"createElementVNode\"])(\"div\",a,[Object(o[\"createVNode\"])(w,{model:e.form,\"label-width\":\"120px\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(b,{label:\"ID\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(p,{modelValue:h.userInfo.userID,\"onUpdate:modelValue\":t[0]||(t[0]=e=>h.userInfo.userID=e),disabled:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(o[\"createVNode\"])(b,{label:\"이름\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(p,{modelValue:h.userInfo.userNm,\"onUpdate:modelValue\":t[1]||(t[1]=e=>h.userInfo.userNm=e),ref:\"userNm\",type:\"text\",placeholder:\"이름을 입력하세요.\",maxlength:\"20\"},null,8,[\"modelValue\"])]),_:1}),Object(o[\"createVNode\"])(w,{model:h.userInfo,\"label-width\":\"120px\",class:\"demo-ruleForm\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(b,{label:\"PASSWORD\",prop:\"password\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(p,{modelValue:h.userInfo.password,\"onUpdate:modelValue\":t[2]||(t[2]=e=>h.userInfo.password=e),id:\"password\",ref:\"password\",type:\"password\",placeholder:\"비밀번호를 입력하세요.\",maxlength:\"100\",onKeyup:t[3]||(t[3]=e=>f.samePassword(e))},null,8,[\"modelValue\"]),Object(o[\"withDirectives\"])(Object(o[\"createElementVNode\"])(\"span\",{class:\"el-form-item__error\"},Object(o[\"toDisplayString\"])(h.result1),513),[[o[\"vShow\"],h.isCheck1]])]),_:1}),Object(o[\"createVNode\"])(b,{label:\"RE-PASSWORD\",prop:\"checkPassword\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(p,{modelValue:h.userInfo.checkPassword,\"onUpdate:modelValue\":t[4]||(t[4]=e=>h.userInfo.checkPassword=e),id:\"checkPassword\",ref:\"checkPassword\",type:\"password\",placeholder:\"다시 비밀번호를 입력하세요.\",maxlength:\"100\",onKeyup:t[5]||(t[5]=e=>f.samePassword())},null,8,[\"modelValue\"]),Object(o[\"withDirectives\"])(Object(o[\"createElementVNode\"])(\"span\",{class:\"el-form-item__error\"},Object(o[\"toDisplayString\"])(h.result2),513),[[o[\"vShow\"],h.isCheck2]])]),_:1})]),_:1},8,[\"model\"]),Object(o[\"createVNode\"])(b,{label:\"연락처\"},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(p,{modelValue:h.userInfo.tell,\"onUpdate:modelValue\":t[6]||(t[6]=e=>h.userInfo.tell=e),ref:\"tell\",type:\"tel\",maxlength:\"14\",placeholder:\"연락처를 입력하세요.\",\"show-word-limit\":\"\",onKeyup:t[7]||(t[7]=e=>f.formTell()),required:\"\"},null,8,[\"modelValue\"])]),_:1}),Object(o[\"createVNode\"])(b,{style:{margin:\"0% 35%\"}},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createVNode\"])(I,{type:\"primary\",onClick:t[8]||(t[8]=e=>h.updShow=!0)},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\"수정\")]),_:1}),Object(o[\"createVNode\"])(I,{onClick:t[9]||(t[9]=e=>h.delShow=!0)},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\"회원탈퇴\")]),_:1})]),_:1})]),_:1},8,[\"model\"])]),Object(o[\"createVNode\"])(O,{modelValue:h.updShow,\"onUpdate:modelValue\":t[12]||(t[12]=e=>h.updShow=e),title:\"회원정보 수정\",width:\"500\",\"align-center\":\"\"},{footer:Object(o[\"withCtx\"])(()=>[Object(o[\"createElementVNode\"])(\"div\",n,[Object(o[\"createVNode\"])(I,{type:\"primary\",onClick:t[10]||(t[10]=e=>f.updUserInfo(\"U\"))},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\"네\")]),_:1}),Object(o[\"createVNode\"])(I,{onClick:t[11]||(t[11]=e=>h.updShow=!1)},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\" 아니요 \")]),_:1})])]),default:Object(o[\"withCtx\"])(()=>[c]),_:1},8,[\"modelValue\"]),Object(o[\"createVNode\"])(O,{modelValue:h.delShow,\"onUpdate:modelValue\":t[15]||(t[15]=e=>h.delShow=e),title:\"회원탈퇴\",width:\"500\",\"align-center\":\"\"},{footer:Object(o[\"withCtx\"])(()=>[Object(o[\"createElementVNode\"])(\"div\",d,[Object(o[\"createVNode\"])(I,{type:\"primary\",onClick:t[13]||(t[13]=e=>f.updUserInfo(\"D\"))},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\"네\")]),_:1}),Object(o[\"createVNode\"])(I,{onClick:t[14]||(t[14]=e=>h.delShow=!1)},{default:Object(o[\"withCtx\"])(()=>[Object(o[\"createTextVNode\"])(\" 아니요 \")]),_:1})])]),default:Object(o[\"withCtx\"])(()=>[i]),_:1},8,[\"modelValue\"])])],64)}var h=s(\"3ef4\"),f={data(){return{userInfo:{userID:\"\",userNm:\"\",password:\"\",checkPassword:\"\",tell:\"\"},action:\"\",updShow:!1,delShow:!1,result1:\"\",isCheck1:!1,result2:\"\",isCheck2:!1}},methods:{goBack(){this.$router.go(-1)},getInfo:function(){this.userInfo.userID=this.$store.state.loginInfo.loginId,this.userInfo.password=\"\",this.userInfo.checkPassword=\"\",this.result=\"\";let e=this,t=new URLSearchParams;t.append(\"loginId\",this.userInfo.userID),this.axios.get(\"/mypage/myPage.do\",t).then((function(t){e.userInfo.userNm=t.data.myInfo.NAME,e.userInfo.tell=t.data.myInfo.TELL})).catch((function(e){alert(\"에러! API 요청에 오류가 있습니다. \"+e)}))},formTell:function(){this.userInfo.tell.length>3&&this.userInfo.tell.length<9?(this.userInfo.tell=this.userInfo.tell.replaceAll(\"-\",\"\"),this.userInfo.tell=this.userInfo.tell.substring(0,3)+\"-\"+this.userInfo.tell.substring(3,7)):14==this.userInfo.tell.length?(this.userInfo.tell=this.userInfo.tell.replaceAll(\"-\",\"\"),this.userInfo.tell=this.userInfo.tell.substring(0,4)+\"-\"+this.userInfo.tell.substring(4,8)+\"-\"+this.userInfo.tell.substring(8)):this.userInfo.tell.length>9&&this.userInfo.tell.length<14&&(this.userInfo.tell=this.userInfo.tell.replaceAll(\"-\",\"\"),this.userInfo.tell=this.userInfo.tell.substring(0,3)+\"-\"+this.userInfo.tell.substring(3,7)+\"-\"+this.userInfo.tell.substring(7))},samePassword:function(){if(\"\"===this.userInfo.password&&\"\"===this.userInfo.checkPassword)return this.changeColor(2,\"\",\"\"),\"\";if(\"\"===this.userInfo.password)this.changeColor(1,\"FAIL\",\"password\");else if(\"\"===this.userInfo.checkPassword)this.changeColor(1,\"FAIL\",\"checkPassword\");else if(this.userInfo.password!==this.userInfo.checkPassword)this.changeColor(2,\"FAIL\",\"checkPassword\");else if(this.userInfo.password===this.userInfo.checkPassword)return this.changeColor(2,\"\",\"\"),!0;return null},changeColor:function(e,t,s){let o=document.getElementById(\"password\").parentNode.parentNode.parentNode.parentNode,r=document.getElementById(\"checkPassword\").parentNode.parentNode.parentNode.parentNode;2==e?\"FAIL\"!=t?(this.isCheck1=!1,this.result1=\"\",this.isCheck2=!1,this.result2=\"\",o.className=\"el-form-item asterisk-left is-focus\",r.className=\"el-form-item asterisk-left is-focus\"):(this.isCheck1=!1,this.result1=\"\",this.isCheck2=!0,this.result2=\"비밀번호가 일치하지 않습니다.\",o.className=\"el-form-item asterisk-left el-form-item--feedback is-error\",r.className=\"el-form-item asterisk-left el-form-item--feedback is-error\"):1==e&&(\"SUCCESS\"===t?\"password\"==s?o.className=\"el-form-item asterisk-left is-focus\":r.className=\"el-form-item asterisk-left is-focus\":\"FAIL\"===t&&(\"password\"===s?(this.isCheck1=!0,this.result1=\"비밀번호를 입력하세요.\",this.isCheck2=!1,this.result2=\"\",o.className=\"el-form-item asterisk-left el-form-item--feedback is-error\",r.className=\"el-form-item asterisk-left is-focus\"):\"checkPassword\"===s&&(this.isCheck1=!1,this.result1=\"\",this.isCheck2=!0,this.result2=\"비밀번호를 입력하세요.\",o.className=\"el-form-item asterisk-left is-focus\",r.className=\"el-form-item asterisk-left el-form-item--feedback is-error\")))},checkValidition:function(){let e=new URLSearchParams;if(\"\"!=this.userInfo.userNm){if(e.append(\"name\",this.userInfo.userNm),this.samePassword())e.append(\"password\",this.userInfo.checkPassword);else if(null==this.samePassword())return Object(h[\"a\"])({message:\"사용자 비밀번호를 확인해주세요.\",type:\"warning\"}),this.$refs.checkPassword.focus(),null;return/[0-9]{3}-[0-9]{4}-[0-9]{4}/.test(this.userInfo.tell)&&\"\"!=this.userInfo.tell?(e.append(\"tell\",this.userInfo.tell),e):(Object(h[\"a\"])({message:\"사용자 연락처를 확인해주세요.\",type:\"warning\"}),this.$refs.tell.focus(),null)}return Object(h[\"a\"])({message:\"사용자 이름을 확인해주세요.\",type:\"warning\"}),this.$refs.userNm.focus(),null},updUserInfo:function(e){let t=this;if(\"D\"==e)this.axios.post(\"/mypage/resign.do\").then((function(e){\"SUCCESS\"==e.data.MESSAGE&&(t.delShow=!1,Object(h[\"a\"])({message:\"회원탈퇴가 완료되었습니다.\",type:\"success\"}),t.$router.push(\"/\"))})).catch((function(e){h[\"a\"].error(\"에러! API 요청에 오류가 있습니다. \"+e)}));else if(\"U\"==e){this.updShow=!1;const e=this.checkValidition();if(null==e)return!1;this.axios.post(\"/mypage/updInfo.do\",e).then((function(e){\"SUCCESS\"==e.data.MESSAGE&&(t.$store.state.loginInfo.userNm=t.userInfo.userNm,t.getInfo(),Object(h[\"a\"])({message:\"회원정보 수정이 완료되었습니다.\",type:\"success\"}))})).catch((function(e){h[\"a\"].error(\"에러! API 요청에 오류가 있습니다. \"+e)}))}}},mounted(){this.getInfo()}},m=(s(\"88e3\"),s(\"6b0d\")),p=s.n(m);const b=p()(f,[[\"render\",u]]);t[\"default\"]=b}}]);","extractedComments":[]}