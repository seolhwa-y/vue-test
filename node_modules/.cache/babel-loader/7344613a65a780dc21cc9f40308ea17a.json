{"remainingRequest":"/Users/shy/vue-workspace/vue-test/node_modules/thread-loader/dist/cjs.js!/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js!/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js??ref--14-0!/Users/shy/vue-workspace/vue-test/src/router/index.js","dependencies":[{"path":"/Users/shy/vue-workspace/vue-test/src/router/index.js","mtime":1709207079969},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":1709198031765},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/thread-loader/dist/cjs.js","mtime":1709198045383},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js","mtime":1709198030767},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js","mtime":1709198039611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEhvbWUgZnJvbSAiLi4vdmlld3MvRGFzaGJvYXJkLnZ1ZSI7CmltcG9ydCBMb2dpbiBmcm9tICIuLi92aWV3cy91c2VyL0xvZ2luLnZ1ZSI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZS9pbmRleC5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwpjb25zdCBjaGVja0F1dGhlZCA9IGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUubG9nKGZyb20pOwogIGNvbnNvbGUubG9nKHRvKTsKICBjb25zb2xlLmxvZyhuZXh0KTsKICBpZiAoc3RvcmUuc3RhdGUubG9naW5JbmZvID09IG51bGwpIHsKICAgIGFsZXJ0KCLroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukIik7CiAgICByZXR1cm4gbmV4dCgiLyIpOwogIH0gZWxzZSB7CiAgICAvL2NvbnNvbGUubG9nKHRvLmZ1bGxQYXRoKTsKCiAgICBsZXQgaXNBdXRob3JpemVkID0gZmFsc2U7CiAgICB0cnkgewogICAgICBzdG9yZS5zdGF0ZS5sb2dpbkluZm8udXNyTW51QXRydC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5ub2RlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoIi9kYXNoYm9hcmQiICsgaXRlbS5tbnVfdXJsLnJlcGxhY2UoIi5kbyIsICIiKSA9PSB0by5mdWxsUGF0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImF1dGhvcml6ZWQiKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpdGVtLm1udV9kdnNfY29kID09IHRoaXMuJHN0b3JlLmxvZ2luSW5mby51c2VyVHlwZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImF1dGhvcml6ZWQiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlzQXV0aG9yaXplZCA9IHRydWU7CiAgICAgIC8vIGNvbnNvbGUubG9nKCd1c2VyIGlzIGF1dGhvcml6ZWQgZm9yIHRoaXMgbWVudScpCiAgICB9CiAgICBpZiAoaXNBdXRob3JpemVkIHx8IHRvLmZ1bGxQYXRoID09ICIvZGFzaGJvYXJkL2hvbWUiKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KCLsoJHqt7zqtoztlZzsnbQg7JeG7Iq164uI64ukIik7CiAgICAgIG5leHQoZnJvbS5mdWxsUGF0aCk7CiAgICB9CiAgfQp9OwoKLy8g65287Jqw7Yq4IOygleydmApjb25zdCByb3V0ZXMgPSBbewogIHBhdGg6ICIvZGFzaGJvYXJkIiwKICBuYW1lOiAiZGFzaGJvYXJkIiwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICI6dHlwZS86bWVudSIsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvQ29udGVudC52dWUiKQogIH0sIHsKICAgIHBhdGg6ICJob21lIiwKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi92aWV3cy9Ib21lLnZ1ZSIpCiAgfV0sCiAgYmVmb3JlRW50ZXI6IGNoZWNrQXV0aGVkLAogIC8vIOudvOyasO2KuCDsnbTrj5kg7KCEIOq2jO2VnCDtmZXsnbgKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6ICIvIiwKICBuYW1lOiAibG9naW4iLAogIGNvbXBvbmVudDogTG9naW4sCiAgYmVmb3JlRW50ZXI6ICh0bywgZnJvbSwgbmV4dCkgPT4gewogICAgLy8g7KeB7KCRIOyKpO2GoOyWtOydmCDsg4Htg5zrpbwg7ZmV7J247ZWp64uI64ukLgogICAgaWYgKHN0b3JlLnN0YXRlLmxvZ2luSW5mbyAhPSBudWxsKSB7CiAgICAgIGFsZXJ0KCLroZzqt7jsnbgg7Y6Y7J207KeA64qUIOuhnOq3uOyVhOybgyDtm4Qg7J207JqpIOqwgOuKpe2VqeuLiOuLpC4iKTsKICAgICAgbmV4dCgiL2Rhc2hib2FyZC9ob21lIik7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9XTsKCi8vIOudvOyasO2EsCDsg53shLEKY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KCksCiAgLy8g7ZW07IucIOuqqOuTnCDrjIDsi6Ag7Z6I7Iqk7Yag66asIOuqqOuTnCDsgqzsmqkKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXMsCiAgbWV0aG9kczogewogICAgY2hlY2tBdXRoZWQKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["Home","Login","store","createRouter","createWebHistory","checkAuthed","to","from","next","console","log","state","loginInfo","alert","isAuthorized","usrMnuAtrt","forEach","item","nodeList","mnu_url","replace","fullPath","Error","mnu_dvs_cod","$store","userType","e","routes","path","name","children","component","beforeEnter","router","history","base","process","env","BASE_URL","methods"],"sources":["/Users/shy/vue-workspace/vue-test/src/router/index.js"],"sourcesContent":["import Home from \"../views/Dashboard.vue\";\nimport Login from \"../views/user/Login.vue\";\nimport store from \"../store/index.js\";\nimport { createRouter, createWebHistory } from \"vue-router\";\n\nconst checkAuthed = function (to, from, next) {\n  console.log(from);\n  console.log(to);\n  console.log(next);\n  if (store.state.loginInfo == null) {\n    alert(\"로그인이 필요합니다\");\n    return next(\"/\");\n  } else {\n    //console.log(to.fullPath);\n\n    let isAuthorized = false;\n\n    try {\n      store.state.loginInfo.usrMnuAtrt.forEach(function (item) {\n        item.nodeList.forEach(function (item) {\n          if (\"/dashboard\" + item.mnu_url.replace(\".do\", \"\") == to.fullPath) {\n            throw new Error(\"authorized\");\n          }\n\n          if (item.mnu_dvs_cod == this.$store.loginInfo.userType) {\n            throw new Error(\"authorized\");\n          }\n        });\n      });\n    } catch (e) {\n      isAuthorized = true;\n      // console.log('user is authorized for this menu')\n    }\n\n    if (isAuthorized || to.fullPath == \"/dashboard/home\") {\n      next();\n    } else {\n      alert(\"접근권한이 없습니다\");\n      next(from.fullPath);\n    }\n  }\n};\n\n// 라우트 정의\nconst routes = [\n  {\n    path: \"/dashboard\",\n    name: \"dashboard\",\n    children: [\n      {\n        path: \":type/:menu\",\n        component: () => import(\"../views/Content.vue\"),\n      },\n      {\n        path: \"home\",\n        component: () => import(\"../views/Home.vue\"),\n      },\n    ],\n    beforeEnter: checkAuthed, // 라우트 이동 전 권한 확인\n    component: Home,\n  },\n  {\n    path: \"/\",\n    name: \"login\",\n    component: Login,\n    beforeEnter: (to, from, next) => {\n      // 직접 스토어의 상태를 확인합니다.\n      if (store.state.loginInfo != null) {\n        alert(\"로그인 페이지는 로그아웃 후 이용 가능합니다.\");\n        next(\"/dashboard/home\");\n      } else {\n        next();\n      }\n    },\n  },\n];\n\n// 라우터 생성\nconst router = createRouter({\n  history: createWebHistory(), // 해시 모드 대신 히스토리 모드 사용\n  base: process.env.BASE_URL,\n  routes,\n  methods: { checkAuthed },\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,wBAAwB;AACzC,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,MAAMC,WAAW,GAAG,SAAAA,CAAUC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC5CC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjBE,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;EACfG,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;IACjCC,KAAK,CAAC,YAAY,CAAC;IACnB,OAAOL,IAAI,CAAC,GAAG,CAAC;EAClB,CAAC,MAAM;IACL;;IAEA,IAAIM,YAAY,GAAG,KAAK;IAExB,IAAI;MACFZ,KAAK,CAACS,KAAK,CAACC,SAAS,CAACG,UAAU,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;QACvDA,IAAI,CAACC,QAAQ,CAACF,OAAO,CAAC,UAAUC,IAAI,EAAE;UACpC,IAAI,YAAY,GAAGA,IAAI,CAACE,OAAO,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,IAAId,EAAE,CAACe,QAAQ,EAAE;YACjE,MAAM,IAAIC,KAAK,CAAC,YAAY,CAAC;UAC/B;UAEA,IAAIL,IAAI,CAACM,WAAW,IAAI,IAAI,CAACC,MAAM,CAACZ,SAAS,CAACa,QAAQ,EAAE;YACtD,MAAM,IAAIH,KAAK,CAAC,YAAY,CAAC;UAC/B;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,CAAC,EAAE;MACVZ,YAAY,GAAG,IAAI;MACnB;IACF;IAEA,IAAIA,YAAY,IAAIR,EAAE,CAACe,QAAQ,IAAI,iBAAiB,EAAE;MACpDb,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACLK,KAAK,CAAC,YAAY,CAAC;MACnBL,IAAI,CAACD,IAAI,CAACc,QAAQ,CAAC;IACrB;EACF;AACF,CAAC;;AAED;AACA,MAAMM,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE,CACR;IACEF,IAAI,EAAE,aAAa;IACnBG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;EAChD,CAAC,EACD;IACEH,IAAI,EAAE,MAAM;IACZG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mBAAmB;EAC7C,CAAC,CACF;EACDC,WAAW,EAAE3B,WAAW;EAAE;EAC1B0B,SAAS,EAAE/B;AACb,CAAC,EACD;EACE4B,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbE,SAAS,EAAE9B,KAAK;EAChB+B,WAAW,EAAEA,CAAC1B,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC/B;IACA,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MACjCC,KAAK,CAAC,2BAA2B,CAAC;MAClCL,IAAI,CAAC,iBAAiB,CAAC;IACzB,CAAC,MAAM;MACLA,IAAI,CAAC,CAAC;IACR;EACF;AACF,CAAC,CACF;;AAED;AACA,MAAMyB,MAAM,GAAG9B,YAAY,CAAC;EAC1B+B,OAAO,EAAE9B,gBAAgB,CAAC,CAAC;EAAE;EAC7B+B,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BX,MAAM;EACNY,OAAO,EAAE;IAAElC;EAAY;AACzB,CAAC,CAAC;AAEF,eAAe4B,MAAM"}]}