{"remainingRequest":"/Users/shy/vue-workspace/vue-test/node_modules/thread-loader/dist/cjs.js!/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js!/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js??ref--14-0!/Users/shy/vue-workspace/vue-test/src/router/index.js","dependencies":[{"path":"/Users/shy/vue-workspace/vue-test/src/router/index.js","mtime":1709205198425},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":1709198031765},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/thread-loader/dist/cjs.js","mtime":1709198045383},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js","mtime":1709198030767},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js","mtime":1709198039611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvRGFzaGJvYXJkLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICcuLi92aWV3cy91c2VyL0xvZ2luLnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZS9pbmRleC5qcyc7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGFzaEhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKY29uc3QgY2hlY2tBdXRoZWQgPSBmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBjb25zb2xlLmxvZyhmcm9tKTsKICBjb25zb2xlLmxvZyh0byk7CiAgY29uc29sZS5sb2cobmV4dCk7CiAgaWYgKHN0b3JlLnN0YXRlLmxvZ2luSW5mbyA9PSBudWxsKSB7CiAgICBhbGVydCgn66Gc6re47J247J20IO2VhOyalO2VqeuLiOuLpCcpOwogICAgcmV0dXJuIG5leHQoJy8nKTsKICB9IGVsc2UgewogICAgLy9jb25zb2xlLmxvZyh0by5mdWxsUGF0aCk7CgogICAgbGV0IGlzQXV0aG9yaXplZCA9IGZhbHNlOwogICAgdHJ5IHsKICAgICAgc3RvcmUuc3RhdGUubG9naW5JbmZvLnVzck1udUF0cnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0ubm9kZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKCcvZGFzaGJvYXJkJyArIGl0ZW0ubW51X3VybC5yZXBsYWNlKCcuZG8nLCAnJykgPT0gdG8uZnVsbFBhdGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdXRob3JpemVkJyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXRlbS5tbnVfZHZzX2NvZCA9PSB0aGlzLiRzdG9yZS5sb2dpbkluZm8udXNlclR5cGUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdXRob3JpemVkJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpc0F1dGhvcml6ZWQgPSB0cnVlOwogICAgICAvLyBjb25zb2xlLmxvZygndXNlciBpcyBhdXRob3JpemVkIGZvciB0aGlzIG1lbnUnKQogICAgfQogICAgaWYgKGlzQXV0aG9yaXplZCB8fCB0by5mdWxsUGF0aCA9PSAnL2Rhc2hib2FyZC9ob21lJykgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBhbGVydCgn7KCR6re86raM7ZWc7J20IOyXhuyKteuLiOuLpCcpOwogICAgICBuZXh0KGZyb20uZnVsbFBhdGgpOwogICAgfQogIH0KfTsKCi8vIOudvOyasO2KuCDsoJXsnZgKY29uc3Qgcm91dGVzID0gW3sKICBwYXRoOiAnL2Rhc2hib2FyZCcsCiAgbmFtZTogJ2Rhc2hib2FyZCcsCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnOnR5cGUvOm1lbnUnLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4uL3ZpZXdzL0NvbnRlbnQudnVlJykKICB9LCB7CiAgICBwYXRoOiAnaG9tZScsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvSG9tZS52dWUnKQogIH1dLAogIGJlZm9yZUVudGVyOiBjaGVja0F1dGhlZCwKICAvLyDrnbzsmrDtirgg7J2064+ZIOyghCDqtoztlZwg7ZmV7J24CiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnLycsCiAgbmFtZTogJ2xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luLAogIGJlZm9yZUVudGVyOiAodG8sIGZyb20sIG5leHQpID0+IHsKICAgIC8vIOyngeygkSDsiqTthqDslrTsnZgg7IOB7YOc66W8IO2ZleyduO2VqeuLiOuLpC4KICAgIGlmIChzdG9yZS5zdGF0ZS5sb2dpbkluZm8gIT0gbnVsbCkgewogICAgICBhbGVydCgn66Gc6re47J24IO2OmOydtOyngOuKlCDroZzqt7jslYTsm4Mg7ZuEIOydtOyaqSDqsIDriqXtlanri4jri6QuJyk7CiAgICAgIG5leHQoJy9kYXNoYm9hcmQvaG9tZScpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0KfV07CgovLyDrnbzsmrDthLAg7IOd7ISxCmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGFzaEhpc3RvcnkocHJvY2Vzcy5lbnYuQkFTRV9VUkwpLAogIC8vIO2VtOyLnCDrqqjrk5wg64yA7IugIO2eiOyKpO2GoOumrCDrqqjrk5wg7IKs7JqpCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzLAogIG1ldGhvZHM6IHsKICAgIGNoZWNrQXV0aGVkCiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["Home","Login","store","createRouter","createWebHashHistory","checkAuthed","to","from","next","console","log","state","loginInfo","alert","isAuthorized","usrMnuAtrt","forEach","item","nodeList","mnu_url","replace","fullPath","Error","mnu_dvs_cod","$store","userType","e","routes","path","name","children","component","beforeEnter","router","history","process","env","BASE_URL","base","methods"],"sources":["/Users/shy/vue-workspace/vue-test/src/router/index.js"],"sourcesContent":["import Home from '../views/Dashboard.vue';\nimport Login from '../views/user/Login.vue';\nimport store from '../store/index.js';\nimport { createRouter, createWebHashHistory } from 'vue-router';\n\nconst checkAuthed = function (to, from, next) {\n    console.log(from);\n    console.log(to);\n    console.log(next);\n    if (store.state.loginInfo == null) {\n        alert('로그인이 필요합니다');\n        return next('/');\n    } else {\n        //console.log(to.fullPath);\n\n        let isAuthorized = false;\n\n        try {\n            store.state.loginInfo.usrMnuAtrt.forEach(function (item) {\n                item.nodeList.forEach(function (item) {\n                    if ('/dashboard' + item.mnu_url.replace('.do', '') == to.fullPath) {\n                        throw new Error('authorized');\n                    }\n\n                    if (item.mnu_dvs_cod == this.$store.loginInfo.userType) {\n                        throw new Error('authorized');\n                    }\n                });\n            });\n        } catch (e) {\n            isAuthorized = true;\n            // console.log('user is authorized for this menu')\n        }\n\n        if (isAuthorized || to.fullPath == '/dashboard/home') {\n            next();\n        } else {\n            alert('접근권한이 없습니다');\n            next(from.fullPath);\n        }\n    }\n};\n\n// 라우트 정의\nconst routes = [\n    {\n        path: '/dashboard',\n        name: 'dashboard',\n        children: [\n            {\n                path: ':type/:menu',\n                component: () => import('../views/Content.vue'),\n            },\n            {\n                path: 'home',\n                component: () => import('../views/Home.vue'),\n            },\n        ],\n        beforeEnter: checkAuthed, // 라우트 이동 전 권한 확인\n        component: Home,\n    },\n    {\n        path: '/',\n        name: 'login',\n        component: Login,\n        beforeEnter: (to, from, next) => {\n            // 직접 스토어의 상태를 확인합니다.\n            if (store.state.loginInfo != null) {\n                alert('로그인 페이지는 로그아웃 후 이용 가능합니다.');\n                next('/dashboard/home');\n            } else {\n                next();\n            }\n        },\n    },\n];\n\n// 라우터 생성\nconst router = createRouter({\n    history: createWebHashHistory(process.env.BASE_URL), // 해시 모드 대신 히스토리 모드 사용\n    base: process.env.BASE_URL,\n    routes,\n    methods: { checkAuthed },\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,wBAAwB;AACzC,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,YAAY,EAAEC,oBAAoB,QAAQ,YAAY;AAE/D,MAAMC,WAAW,GAAG,SAAAA,CAAUC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC1CC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjBE,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;EACfG,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;IAC/BC,KAAK,CAAC,YAAY,CAAC;IACnB,OAAOL,IAAI,CAAC,GAAG,CAAC;EACpB,CAAC,MAAM;IACH;;IAEA,IAAIM,YAAY,GAAG,KAAK;IAExB,IAAI;MACAZ,KAAK,CAACS,KAAK,CAACC,SAAS,CAACG,UAAU,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;QACrDA,IAAI,CAACC,QAAQ,CAACF,OAAO,CAAC,UAAUC,IAAI,EAAE;UAClC,IAAI,YAAY,GAAGA,IAAI,CAACE,OAAO,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,IAAId,EAAE,CAACe,QAAQ,EAAE;YAC/D,MAAM,IAAIC,KAAK,CAAC,YAAY,CAAC;UACjC;UAEA,IAAIL,IAAI,CAACM,WAAW,IAAI,IAAI,CAACC,MAAM,CAACZ,SAAS,CAACa,QAAQ,EAAE;YACpD,MAAM,IAAIH,KAAK,CAAC,YAAY,CAAC;UACjC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IACN,CAAC,CAAC,OAAOI,CAAC,EAAE;MACRZ,YAAY,GAAG,IAAI;MACnB;IACJ;IAEA,IAAIA,YAAY,IAAIR,EAAE,CAACe,QAAQ,IAAI,iBAAiB,EAAE;MAClDb,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHK,KAAK,CAAC,YAAY,CAAC;MACnBL,IAAI,CAACD,IAAI,CAACc,QAAQ,CAAC;IACvB;EACJ;AACJ,CAAC;;AAED;AACA,MAAMM,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE,CACN;IACIF,IAAI,EAAE,aAAa;IACnBG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;EAClD,CAAC,EACD;IACIH,IAAI,EAAE,MAAM;IACZG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mBAAmB;EAC/C,CAAC,CACJ;EACDC,WAAW,EAAE3B,WAAW;EAAE;EAC1B0B,SAAS,EAAE/B;AACf,CAAC,EACD;EACI4B,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,OAAO;EACbE,SAAS,EAAE9B,KAAK;EAChB+B,WAAW,EAAEA,CAAC1B,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC7B;IACA,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MAC/BC,KAAK,CAAC,2BAA2B,CAAC;MAClCL,IAAI,CAAC,iBAAiB,CAAC;IAC3B,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ;AACJ,CAAC,CACJ;;AAED;AACA,MAAMyB,MAAM,GAAG9B,YAAY,CAAC;EACxB+B,OAAO,EAAE9B,oBAAoB,CAAC+B,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAAE;EACrDC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BV,MAAM;EACNY,OAAO,EAAE;IAAElC;EAAY;AAC3B,CAAC,CAAC;AAEF,eAAe4B,MAAM"}]}