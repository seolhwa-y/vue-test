{"remainingRequest":"/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js!/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js??ref--14-0!/Users/shy/vue-workspace/vue-test/src/router/index.js","dependencies":[{"path":"/Users/shy/vue-workspace/vue-test/src/router/index.js","mtime":1709210817911},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":1709209744883},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/babel-loader/lib/index.js","mtime":1709209746638},{"path":"/Users/shy/vue-workspace/vue-test/node_modules/eslint-loader/index.js","mtime":1709209745515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvRGFzaGJvYXJkLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICcuLi92aWV3cy91c2VyL0xvZ2luLnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZS9pbmRleC5qcyc7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwpjb25zdCBjaGVja0F1dGhlZCA9IGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUubG9nKGZyb20pOwogIGNvbnNvbGUubG9nKHRvKTsKICBjb25zb2xlLmxvZyhuZXh0KTsKICBpZiAoc3RvcmUuc3RhdGUubG9naW5JbmZvID09IG51bGwpIHsKICAgIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukJyk7CiAgICByZXR1cm4gbmV4dCgnLycpOwogIH0gZWxzZSB7CiAgICAvL2NvbnNvbGUubG9nKHRvLmZ1bGxQYXRoKTsKCiAgICBsZXQgaXNBdXRob3JpemVkID0gZmFsc2U7CiAgICB0cnkgewogICAgICBzdG9yZS5zdGF0ZS5sb2dpbkluZm8udXNyTW51QXRydC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5ub2RlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoJy9kYXNoYm9hcmQnICsgaXRlbS5tbnVfdXJsLnJlcGxhY2UoJy5kbycsICcnKSA9PSB0by5mdWxsUGF0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F1dGhvcml6ZWQnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpdGVtLm1udV9kdnNfY29kID09IHRoaXMuJHN0b3JlLmxvZ2luSW5mby51c2VyVHlwZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F1dGhvcml6ZWQnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlzQXV0aG9yaXplZCA9IHRydWU7CiAgICAgIC8vIGNvbnNvbGUubG9nKCd1c2VyIGlzIGF1dGhvcml6ZWQgZm9yIHRoaXMgbWVudScpCiAgICB9CiAgICBpZiAoaXNBdXRob3JpemVkIHx8IHRvLmZ1bGxQYXRoID09ICcvZGFzaGJvYXJkL2hvbWUnKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KCfsoJHqt7zqtoztlZzsnbQg7JeG7Iq164uI64ukJyk7CiAgICAgIG5leHQoZnJvbS5mdWxsUGF0aCk7CiAgICB9CiAgfQp9OwoKLy8g65287Jqw7Yq4IOygleydmApjb25zdCByb3V0ZXMgPSBbewogIHBhdGg6ICcvZGFzaGJvYXJkJywKICBuYW1lOiAnZGFzaGJvYXJkJywKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICc6dHlwZS86bWVudScsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvQ29udGVudC52dWUnKQogIH0sIHsKICAgIHBhdGg6ICdob21lJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi92aWV3cy9Ib21lLnZ1ZScpCiAgfV0sCiAgYmVmb3JlRW50ZXI6IGNoZWNrQXV0aGVkLAogIC8vIOudvOyasO2KuCDsnbTrj5kg7KCEIOq2jO2VnCDtmZXsnbgKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIG5hbWU6ICdsb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbiwKICBiZWZvcmVFbnRlcjogKHRvLCBmcm9tLCBuZXh0KSA9PiB7CiAgICAvLyDsp4HsoJEg7Iqk7Yag7Ja07J2YIOyDge2DnOulvCDtmZXsnbjtlanri4jri6QuCiAgICBpZiAoc3RvcmUuc3RhdGUubG9naW5JbmZvICE9IG51bGwpIHsKICAgICAgYWxlcnQoJ+uhnOq3uOyduCDtjpjsnbTsp4DripQg66Gc6re47JWE7JuDIO2bhCDsnbTsmqkg6rCA64ql7ZWp64uI64ukLicpOwogICAgICBuZXh0KCcvZGFzaGJvYXJkL2hvbWUnKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9Cn1dOwoKLy8g65287Jqw7YSwIOyDneyEsQpjb25zdCByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICAvLyDtlbTsi5wg66qo65OcIOuMgOyLoCDtnojsiqTthqDrpqwg66qo65OcIOyCrOyaqQogIC8vIGJhc2U6ICIiLAogIHJvdXRlcywKICBtZXRob2RzOiB7CiAgICBjaGVja0F1dGhlZAogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"names":["Home","Login","store","createRouter","createWebHistory","checkAuthed","to","from","next","console","log","state","loginInfo","alert","isAuthorized","usrMnuAtrt","forEach","item","nodeList","mnu_url","replace","fullPath","Error","mnu_dvs_cod","$store","userType","e","routes","path","name","children","component","beforeEnter","process","env","BASE_URL","router","history","methods"],"sources":["/Users/shy/vue-workspace/vue-test/src/router/index.js"],"sourcesContent":["import Home from '../views/Dashboard.vue';\nimport Login from '../views/user/Login.vue';\nimport store from '../store/index.js';\nimport { createRouter, createWebHistory } from 'vue-router';\n\nconst checkAuthed = function (to, from, next) {\n    console.log(from);\n    console.log(to);\n    console.log(next);\n    if (store.state.loginInfo == null) {\n        alert('로그인이 필요합니다');\n        return next('/');\n    } else {\n        //console.log(to.fullPath);\n\n        let isAuthorized = false;\n\n        try {\n            store.state.loginInfo.usrMnuAtrt.forEach(function (item) {\n                item.nodeList.forEach(function (item) {\n                    if ('/dashboard' + item.mnu_url.replace('.do', '') == to.fullPath) {\n                        throw new Error('authorized');\n                    }\n\n                    if (item.mnu_dvs_cod == this.$store.loginInfo.userType) {\n                        throw new Error('authorized');\n                    }\n                });\n            });\n        } catch (e) {\n            isAuthorized = true;\n            // console.log('user is authorized for this menu')\n        }\n\n        if (isAuthorized || to.fullPath == '/dashboard/home') {\n            next();\n        } else {\n            alert('접근권한이 없습니다');\n            next(from.fullPath);\n        }\n    }\n};\n\n// 라우트 정의\nconst routes = [\n    {\n        path: '/dashboard',\n        name: 'dashboard',\n        children: [\n            {\n                path: ':type/:menu',\n                component: () => import('../views/Content.vue'),\n            },\n            {\n                path: 'home',\n                component: () => import('../views/Home.vue'),\n            },\n        ],\n        beforeEnter: checkAuthed, // 라우트 이동 전 권한 확인\n        component: Home,\n    },\n    {\n        path: process.env.BASE_URL,\n        name: 'login',\n        component: Login,\n        beforeEnter: (to, from, next) => {\n            // 직접 스토어의 상태를 확인합니다.\n            if (store.state.loginInfo != null) {\n                alert('로그인 페이지는 로그아웃 후 이용 가능합니다.');\n                next('/dashboard/home');\n            } else {\n                next();\n            }\n        },\n    },\n];\n\n// 라우터 생성\nconst router = createRouter({\n    history: createWebHistory(), // 해시 모드 대신 히스토리 모드 사용\n    // base: \"\",\n    routes,\n    methods: { checkAuthed },\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,wBAAwB;AACzC,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,MAAMC,WAAW,GAAG,SAAAA,CAAUC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC1CC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjBE,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;EACfG,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;IAC/BC,KAAK,CAAC,YAAY,CAAC;IACnB,OAAOL,IAAI,CAAC,GAAG,CAAC;EACpB,CAAC,MAAM;IACH;;IAEA,IAAIM,YAAY,GAAG,KAAK;IAExB,IAAI;MACAZ,KAAK,CAACS,KAAK,CAACC,SAAS,CAACG,UAAU,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;QACrDA,IAAI,CAACC,QAAQ,CAACF,OAAO,CAAC,UAAUC,IAAI,EAAE;UAClC,IAAI,YAAY,GAAGA,IAAI,CAACE,OAAO,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,IAAId,EAAE,CAACe,QAAQ,EAAE;YAC/D,MAAM,IAAIC,KAAK,CAAC,YAAY,CAAC;UACjC;UAEA,IAAIL,IAAI,CAACM,WAAW,IAAI,IAAI,CAACC,MAAM,CAACZ,SAAS,CAACa,QAAQ,EAAE;YACpD,MAAM,IAAIH,KAAK,CAAC,YAAY,CAAC;UACjC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IACN,CAAC,CAAC,OAAOI,CAAC,EAAE;MACRZ,YAAY,GAAG,IAAI;MACnB;IACJ;IAEA,IAAIA,YAAY,IAAIR,EAAE,CAACe,QAAQ,IAAI,iBAAiB,EAAE;MAClDb,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHK,KAAK,CAAC,YAAY,CAAC;MACnBL,IAAI,CAACD,IAAI,CAACc,QAAQ,CAAC;IACvB;EACJ;AACJ,CAAC;;AAED;AACA,MAAMM,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE,CACN;IACIF,IAAI,EAAE,aAAa;IACnBG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;EAClD,CAAC,EACD;IACIH,IAAI,EAAE,MAAM;IACZG,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mBAAmB;EAC/C,CAAC,CACJ;EACDC,WAAW,EAAE3B,WAAW;EAAE;EAC1B0B,SAAS,EAAE/B;AACf,CAAC,EACD;EACI4B,IAAI,EAAEK,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BN,IAAI,EAAE,OAAO;EACbE,SAAS,EAAE9B,KAAK;EAChB+B,WAAW,EAAEA,CAAC1B,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC7B;IACA,IAAIN,KAAK,CAACS,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MAC/BC,KAAK,CAAC,2BAA2B,CAAC;MAClCL,IAAI,CAAC,iBAAiB,CAAC;IAC3B,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ;AACJ,CAAC,CACJ;;AAED;AACA,MAAM4B,MAAM,GAAGjC,YAAY,CAAC;EACxBkC,OAAO,EAAEjC,gBAAgB,CAAC,CAAC;EAAE;EAC7B;EACAuB,MAAM;EACNW,OAAO,EAAE;IAAEjC;EAAY;AAC3B,CAAC,CAAC;AAEF,eAAe+B,MAAM"}]}