{"version":3,"file":"vue-daum-postcode.mjs","sources":["../node_modules/nano-loader/index.mjs","../src/createVueDaumPostcode.ts","../src/VueDaumPostcode.ts","../src/index.ts"],"sourcesContent":["function n(o){let e=null;return()=>{try{return e||(e=Promise.resolve(o()).catch(r=>{throw e=null,r}))}catch(r){return Promise.reject(r)}}}var s=n,i=(o,e)=>new Promise((r,t)=>{(document.head||document.body).appendChild(Object.assign(document.createElement(\"script\"),e,{src:o,async:!0,onload:r,onerror:()=>t(new Error(`Failed to load script: ${o}`))}))});typeof document>\"u\"&&(i=()=>Promise.reject(new Error(\"load is not supported in nodejs\")));export{s as defer,i as load,n as once};\n","import { once, load } from \"nano-loader\";\nimport { defineComponent, PropType, h } from \"vue\";\n\nimport type {\n  VueDaumPostcodeCompleteResult,\n  VueDaumPostcodeResizeResult,\n  VueDaumPostcodeSearchResult,\n  VueDaumPostcodeTheme,\n} from \"./interfaces\";\n\nexport interface CreateVueDaumPostcodeOptions {\n  scriptUrl?: string | null;\n}\n\nexport function createVueDaumPostcode(\n  options: CreateVueDaumPostcodeOptions = {}\n) {\n  const scriptUrl =\n    options.scriptUrl ||\n    \"//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js\";\n  const loadDaumPostcode = once(() =>\n    load(scriptUrl).then(\n      () =>\n        new Promise<void>((resolve) =>\n          (window as any).daum.postcode.load(resolve)\n        )\n    )\n  );\n\n  return defineComponent({\n    props: {\n      q: {\n        type: String,\n        default: \"\",\n      },\n      animation: {\n        type: Boolean,\n        default: false,\n      },\n      noAutoMapping: {\n        type: Boolean,\n        default: false,\n      },\n      noShorthand: {\n        type: Boolean,\n        default: false,\n      },\n      noSubmitMode: {\n        type: Boolean,\n        default: false,\n      },\n      pleaseReadGuide: {\n        type: Number,\n        default: 0,\n      },\n      pleaseReadGuideTimer: {\n        type: Number,\n        default: 1.5,\n      },\n      maxSuggestItems: {\n        type: Number,\n        default: 10,\n      },\n      showMoreHName: {\n        type: Boolean,\n        default: false,\n      },\n      hideMapBtn: {\n        type: Boolean,\n        default: false,\n      },\n      hideEngBtn: {\n        type: Boolean,\n        default: false,\n      },\n      alwaysShowEngAddr: {\n        type: Boolean,\n        default: false,\n      },\n      zonecodeOnly: {\n        type: Boolean,\n        default: false,\n      },\n      theme: {\n        type: Object as PropType<VueDaumPostcodeTheme>,\n        default: () => ({}),\n      },\n    },\n    data() {\n      return {\n        styleHeight: 0 as string | number,\n        isLoaded: false,\n      };\n    },\n    mounted() {\n      loadDaumPostcode()\n        .then(() => {\n          this.isLoaded = true;\n          return this.$nextTick();\n        })\n        .then(() => {\n          new (window as any).daum.Postcode({\n            width: \"100%\",\n            height: \"100%\",\n            animation: this.animation,\n            autoMapping: !this.noAutoMapping,\n            shorthand: !this.noShorthand,\n            pleaseReadGuide: this.pleaseReadGuide,\n            pleaseReadGuideTimer: this.pleaseReadGuideTimer,\n            maxSuggestItems: this.maxSuggestItems,\n            showMoreHName: this.showMoreHName,\n            hideMapBtn: this.hideMapBtn,\n            hideEngBtn: this.hideEngBtn,\n            alwaysShowEngAddr: this.alwaysShowEngAddr,\n            zonecodeOnly: this.zonecodeOnly,\n            theme: this.theme,\n            submitMode: !this.noSubmitMode,\n            onsearch: (data: VueDaumPostcodeSearchResult) => {\n              this.$emit(\"search\", data);\n            },\n            oncomplete: (data: VueDaumPostcodeCompleteResult) => {\n              this.$emit(\"complete\", data);\n            },\n            onresize: (data: VueDaumPostcodeResizeResult) => {\n              this.styleHeight = `${data.height}px`;\n              this.$emit(\"resize\", data);\n            },\n          }).embed(this.$refs.container, {\n            q: this.q,\n            autoClose: false,\n          });\n          this.$emit(\"load\");\n        })\n        .catch((e) => {\n          const error = new Error(`Load ${scriptUrl} failed.`);\n          error.cause = e;\n          this.$emit(\"error\", error);\n        });\n    },\n    render() {\n      return h(\n        \"div\",\n        {\n          class: [\"vue-daum-postcode\"],\n        },\n        this.isLoaded || !this.$slots.loading\n          ? [\n              h(\"div\", {\n                class: [\"vue-daum-postcode-container\"],\n                ref: \"container\",\n                style: {\n                  height: this.styleHeight,\n                },\n              }),\n            ]\n          : [\n              h(\n                \"div\",\n                {\n                  class: [\"vue-daum-postcode-loading\"],\n                },\n                [this.$slots.loading()]\n              ),\n            ]\n      );\n    },\n  });\n}\n","import { createVueDaumPostcode } from \"./createVueDaumPostcode\";\n\nconst VueDaumPostcode = createVueDaumPostcode();\n\nexport default VueDaumPostcode;\n","import { App, Plugin } from \"vue\";\n\nimport VueDaumPostcode from \"./VueDaumPostcode\";\nimport { createVueDaumPostcode } from \"./createVueDaumPostcode\";\nimport type { CreateVueDaumPostcodeOptions } from \"./createVueDaumPostcode\";\nimport type {\n  VueDaumPostcodeTheme,\n  VueDaumPostcodeCompleteResult,\n  VueDaumPostcodeSearchResult,\n  VueDaumPostcodeResizeResult,\n} from \"./interfaces\";\n\nexport interface VueDaumPostcodeInstallOptions\n  extends CreateVueDaumPostcodeOptions {\n  name?: string | null;\n}\n\nexport function install(\n  app: App,\n  { name, ...options }: VueDaumPostcodeInstallOptions = {}\n) {\n  app.component(\n    name ?? \"VueDaumPostcode\",\n    Object.keys(options).length > 0\n      ? createVueDaumPostcode(options)\n      : VueDaumPostcode\n  );\n}\n\nconst plugin: Plugin = {\n  install,\n};\n\nexport {\n  plugin as default,\n  createVueDaumPostcode,\n  CreateVueDaumPostcodeOptions,\n  VueDaumPostcodeTheme,\n  VueDaumPostcode,\n  VueDaumPostcodeCompleteResult,\n  VueDaumPostcodeSearchResult,\n  VueDaumPostcodeResizeResult,\n};\n"],"names":["n","o","e","r","t","createVueDaumPostcode","options","scriptUrl","loadDaumPostcode","once","load","resolve","defineComponent","data","error","h","VueDaumPostcode","install","app","name","plugin"],"mappings":";AAAA,SAASA,EAAEC,GAAE;AAAC,MAAIC,IAAE;AAAK,SAAM,MAAI;AAAC,QAAG;AAAC,aAAOA,MAAIA,IAAE,QAAQ,QAAQD,EAAC,CAAE,EAAE,MAAM,CAAAE,MAAG;AAAC,cAAMD,IAAE,MAAKC;AAAA,MAAC,CAAC;AAAA,IAAE,SAAOA,GAAN;AAAS,aAAO,QAAQ,OAAOA,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAI,IAAK,IAAE,CAACF,GAAEC,MAAI,IAAI,QAAQ,CAACC,GAAEC,MAAI;AAAC,GAAC,SAAS,QAAM,SAAS,MAAM,YAAY,OAAO,OAAO,SAAS,cAAc,QAAQ,GAAEF,GAAE,EAAC,KAAID,GAAE,OAAM,IAAG,QAAOE,GAAE,SAAQ,MAAIC,EAAE,IAAI,MAAM,0BAA0BH,GAAG,CAAC,EAAC,CAAC,CAAC;AAAC,CAAC;AAAE,OAAO,WAAS,QAAM,IAAE,MAAI,QAAQ,OAAO,IAAI,MAAM,iCAAiC,CAAC;ACcxa,SAAAI,EACdC,IAAwC,IACxC;AACM,QAAAC,IACJD,EAAQ,aACR,iEACIE,IAAmBC;AAAAA,IAAK,MAC5BC,EAAKH,CAAS,EAAE;AAAA,MACd,MACE,IAAI;AAAA,QAAc,CAACI,MAChB,OAAe,KAAK,SAAS,KAAKA,CAAO;AAAA,MAC5C;AAAA,IACJ;AAAA,EAAA;AAGF,SAAOC,EAAgB;AAAA,IACrB,OAAO;AAAA,MACL,GAAG;AAAA,QACD,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,cAAc;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,iBAAiB;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,sBAAsB;AAAA,QACpB,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,iBAAiB;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,YAAY;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,YAAY;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,mBAAmB;AAAA,QACjB,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,cAAc;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,MACX;AAAA,MACA,OAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS,OAAO,CAAA;AAAA,MAClB;AAAA,IACF;AAAA,IACA,OAAO;AACE,aAAA;AAAA,QACL,aAAa;AAAA,QACb,UAAU;AAAA,MAAA;AAAA,IAEd;AAAA,IACA,UAAU;AACS,MAAAJ,EAAA,EACd,KAAK,OACJ,KAAK,WAAW,IACT,KAAK,YACb,EACA,KAAK,MAAM;AACL,YAAA,OAAe,KAAK,SAAS;AAAA,UAChC,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,WAAW,KAAK;AAAA,UAChB,aAAa,CAAC,KAAK;AAAA,UACnB,WAAW,CAAC,KAAK;AAAA,UACjB,iBAAiB,KAAK;AAAA,UACtB,sBAAsB,KAAK;AAAA,UAC3B,iBAAiB,KAAK;AAAA,UACtB,eAAe,KAAK;AAAA,UACpB,YAAY,KAAK;AAAA,UACjB,YAAY,KAAK;AAAA,UACjB,mBAAmB,KAAK;AAAA,UACxB,cAAc,KAAK;AAAA,UACnB,OAAO,KAAK;AAAA,UACZ,YAAY,CAAC,KAAK;AAAA,UAClB,UAAU,CAACK,MAAsC;AAC1C,iBAAA,MAAM,UAAUA,CAAI;AAAA,UAC3B;AAAA,UACA,YAAY,CAACA,MAAwC;AAC9C,iBAAA,MAAM,YAAYA,CAAI;AAAA,UAC7B;AAAA,UACA,UAAU,CAACA,MAAsC;AAC1C,iBAAA,cAAc,GAAGA,EAAK,YACtB,KAAA,MAAM,UAAUA,CAAI;AAAA,UAC3B;AAAA,QACD,CAAA,EAAE,MAAM,KAAK,MAAM,WAAW;AAAA,UAC7B,GAAG,KAAK;AAAA,UACR,WAAW;AAAA,QAAA,CACZ,GACD,KAAK,MAAM,MAAM;AAAA,MAAA,CAClB,EACA,MAAM,CAAC,MAAM;AACZ,cAAMC,IAAQ,IAAI,MAAM,QAAQP,WAAmB;AACnD,QAAAO,EAAM,QAAQ,GACT,KAAA,MAAM,SAASA,CAAK;AAAA,MAAA,CAC1B;AAAA,IACL;AAAA,IACA,SAAS;AACA,aAAAC;AAAA,QACL;AAAA,QACA;AAAA,UACE,OAAO,CAAC,mBAAmB;AAAA,QAC7B;AAAA,QACA,KAAK,YAAY,CAAC,KAAK,OAAO,UAC1B;AAAA,UACEA,EAAE,OAAO;AAAA,YACP,OAAO,CAAC,6BAA6B;AAAA,YACrC,KAAK;AAAA,YACL,OAAO;AAAA,cACL,QAAQ,KAAK;AAAA,YACf;AAAA,UAAA,CACD;AAAA,QAAA,IAEH;AAAA,UACEA;AAAA,YACE;AAAA,YACA;AAAA,cACE,OAAO,CAAC,2BAA2B;AAAA,YACrC;AAAA,YACA,CAAC,KAAK,OAAO,SAAS;AAAA,UACxB;AAAA,QACF;AAAA,MAAA;AAAA,IAER;AAAA,EAAA,CACD;AACH;ACrKA,MAAMC,IAAkBX,EAAsB;ACe9B,SAAAY,EACdC,GACA,EAAE,MAAAC,GAAM,GAAGb,EAAQ,IAAmC,CAAA,GACtD;AACI,EAAAY,EAAA;AAAA,IACFC,KAAQ;AAAA,IACR,OAAO,KAAKb,CAAO,EAAE,SAAS,IAC1BD,EAAsBC,CAAO,IAC7BU;AAAA,EAAA;AAER;AAEA,MAAMI,IAAiB;AAAA,EACrB,SAAAH;AACF;","x_google_ignoreList":[0]}